<form id="{{name}}" [formGroup]="form" novalidate>
  <div *ngFor="let field of fields | orderBy: order" class="field-group">
    <div *ngIf="field.type=='text'" class="field {{field.class? field.class : ''}}">
      <label>
        {{field.caption}}
      </label>
      <textarea [formControlName]="field.name" rows="field.lines ? field.lines : 1" [(ngModel)]="model[field.name]" rows="{{field.lines}}" required="{{field.required}}"></textarea>
      <hr>
      <hr>
    </div>
    <div *ngIf="field.type=='e-mail'" class="field {{field.class? field.class : ''}}">
      <label *ngIf="!field.lines">
        {{field.caption}}
      </label>
      <input [formControlName]="field.name" [(ngModel)]="model[field.name]" type="email" required="{{field.required}}">
      <hr>
      <hr>
    </div>
    <div *ngIf="field.type=='phone'" class="field {{field.class? field.class : ''}}">
      <label *ngIf="!field.lines">
        {{field.caption}}
      </label>
      <input [formControlName]="field.name" [(ngModel)]="model[field.name]" type="tel" required="{{field.required}}">
      <hr>
      <hr>
    </div>
    <div *ngIf="field.type=='number'" class="field {{field.class? field.class : ''}}">
      <label *ngIf="!field.lines">
        {{field.caption}}
      </label>
      <input [formControlName]="field.name" [(ngModel)]="model[field.name]" type="number" required="{{field.required}}">
      <hr>
      <hr>
    </div>
  </div>
  <button 
    [disabled]="!form.valid"
    class="button" 
    (click)=submit()>{{action}}</button>
  <div *ngIf="error" class="message">{{error}}</div>
</form>
